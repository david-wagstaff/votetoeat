<!DOCTYPE html>
<html ng-app="myApp">
<head>
    <title>Vote To Eat</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Vote To Eat</title>
    <!--&lt;!&ndash; HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries &ndash;&gt;-->
    <!--&lt;!&ndash;[if lt IE 9]>-->
    <!--<script src="../../assets/js/html5shiv.js"></script>-->
    <!--<![endif]&ndash;&gt;-->

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
    <link type="text/css" href="css/lib/angular-growl-0.7.3.min.css" rel="stylesheet"/>
    <link href="css/custom.css" rel="stylesheet">

    <!--Loading only angular here but all other js at the bottom.  Mainly so ng-cloak works correctly-->
    <!--<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>-->

    <script src="js/lib/angular-1.2.15.min.js"></script>
    <script src="js/lib/angular-growl-0.7.3.min.js"></script>
    <script src="js/lib/angular-animate-1.2.15.min.js"></script>

</head>
<body ng-controller="vteController" role="document">

<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Vote To Eat</a>
        </div>
    </div>
</nav>

<div class="container" role="main">
    <div class="jumbotron">
        <h1>Vote To Eat!</h1>
        <p>Tired of arguing about where to eat?  This site is for you.</p>
        <div growl inline="true" reference="generalMessages"></div>
        <p id="createGroupBox" ng-show="showGroupBox">
            <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#createGroupModal">Create Group &raquo;</button>
            <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#joinGroupModal">Join Group &raquo;</button>
        </p>
    </div>
</div>

<div id="main_app" class="container" ng-cloak ng-show="showMainApp">
    <div class="row">
        <div class="col-md-12">
            <span class="pull-left">Hello {{userName}} you have {{votesLeft}} votes left!</span>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <h2>Places</h2>
            <form class="form-inline">
                <div class="form-group">
                    <label for="input_add_place_name">Add New Place</label>
                    <input type="text" class="form-control" id="input_add_place_name" placeholder="Place Name" ng-model="placeName">
                </div>
                <button type="submit" class="btn btn-primary" data-dismiss="modal" ng-click="addPlace()">Add</button>
            </form>
            <div class="col-md-12" ng-class="{true: 'well'}[places.length > 0]">
                <div class="row" ng-repeat="place in places">
                    <div class="col-md-2">
                        <span ng-bind="place.name"></span>
                    </div>
                    <div class="col-md-8">
                        <button class="btn btn-default" ng-disabled="votesLeft<=0" data-toggle="tab" ng-click="voteForPlace(place,$index + 1)" ng-repeat="i in getNumber(vote_max + 1) track by $index + 1" >
                            {{$index + 1}}
                        </button>
                        &nbsp
                        <span ng-bind="place.votes"></span><span>&nbsp total</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <h2>Members of {{groupName}}</h2>
            <div class="col-md-12 well">
                <div class="row" ng-repeat="user in users">
                    <div class="col-md-3">
                        <span ng-bind="user.name"></span>
                        <span> has</span>
                        <span ng-bind="user.votesLeft"></span>
                        <span> votes left.</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div growl inline="true"></div>
    </div>
</div>


<div>
    <!--Debug showing the scope -->
    <!--<pre ng-bind="voted | json"></pre>-->
    <hr>

    <footer>
        <p>&copy; Vote To Eat 2015</p>
    </footer>

</div>


<!--MODALS-->
<div id="createGroupModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="createGroupModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="createGroupLabel">Create Group</h4>
            </div>
            <div class="modal-body">
                <form class="form-inline">
                    <div class="form-group">
                        <label for="input_group_name">Group Name</label>
                        <input type="text" class="form-control" id="input_group_name" placeholder="Group Name" ng-model="groupName">
                    </div>
                    <button type="submit" class="btn btn-primary" data-dismiss="modal" ng-click="createGroup()">Create Group</button>
                </form>
            </div>
        </div>
    </div>
</div>
<div id="joinGroupModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="joinGroupModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="joinGroupLabel">Join Group</h4>
            </div>
            <div class="modal-body">
                <form class="form-inline">
                    <div class="form-group">
                        <label for="join_group_name">Group Name</label>
                        <input type="text" class="form-control" id="join_group_name" placeholder="Group Name" ng-model="groupName">
                    </div>
                    <button type="submit" class="btn btn-primary" data-dismiss="modal" ng-click="joinGroup()">Join Group</button>
                </form>
            </div>
        </div>
    </div>
</div>
<div id="enterNameModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="enterNameModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="enterNameModalLabel">Enter Name</h4>
            </div>
            <div class="modal-body">
                <form class="form-inline">
                    <div class="form-group">
                        <label for="join_group_name">Your Name</label>
                        <input type="text" class="form-control" id="input_userName" placeholder="User Name" ng-model="userName">
                    </div>
                    <button type="submit" class="btn btn-primary" data-dismiss="modal" ng-click="addUser()">Save</button>
                </form>
            </div>
        </div>
    </div>
</div>




<!-- JavaScript Files================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<!--<script src="http://codeorigin.jquery.com/jquery-1.10.2.min.js"></script>-->
<script src="js/lib/jquery-1.10.2.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

<script type='text/javascript' src='/socket.io/socket.io.js'></script>
<script src="js/lib/underscore-1.6.0.min.js"></script>

<script type="text/javascript" src='js/vte_util.js'></script>
<script type="text/javascript" src='js/services.js'></script>
<!--<script type="text/javascript" src='/javascripts/filters.js'></script>-->
<script type="text/javascript" src='js/controllers.js'></script>
<!--<script type="text/javascript" src='/javascripts/directives.js'></script>-->

<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-44755430-2', 'auto');
    ga('send', 'pageview');

</script>
</body>
</html>